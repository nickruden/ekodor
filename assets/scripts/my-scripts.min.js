document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(".header"),t=e.querySelector(".burger-button");t.addEventListener("click",()=>{e.classList.toggle("menu-opened"),document.body.style.overflow=e.classList.contains("menu-opened")?"hidden":""})}),document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(".header .mobile-menu .mobile-menu__nav"),t=e.querySelector(".mobile-menu__back"),l=e.querySelector('.mobile-menu__list[data-level-menu="1"]'),n=l,a=[];function s(e,l){let n=l.closest("ul");n.querySelectorAll(":scope > li").forEach(e=>{if(e!==l.parentElement)e.style.display="none";else{let t=e.querySelector(":scope > a");t&&(t.style.display="none"),e.style.display="inline-flex"}}),e.classList.remove("hidden"),e.classList.add("show"),t.style.display="block"}function o(){if(0===a.length){l.querySelectorAll(":scope > li").forEach(e=>e.style.display="inline-flex"),console.log(l),t.style.display="none";return}let{parentLink:e,parentMenu:s}=a.pop(),o=e.parentElement.querySelector(":scope > ul");o&&(o.classList.remove("show"),o.classList.add("hidden")),s.querySelectorAll(":scope > li").forEach(e=>e.style.display="inline-flex"),e.style.display="block",t.textContent=a.length>0?a[a.length-1].parentLink.textContent:"Назад",s===l&&0===a.length&&(t.style.display="none"),n=s}e.querySelectorAll(".mobile-menu__catalog-list").forEach(e=>{e.classList.remove("show"),e.classList.add("hidden")}),e.addEventListener("click",l=>{let o=l.target.closest("a");if(!o)return;let r=o.parentElement,i=r.querySelector(":scope > ul");i&&(l.preventDefault(),a.push({parentLink:o,parentMenu:n}),n=i,t.textContent=o.textContent,e.querySelectorAll("a").forEach(e=>e.classList.remove("active")),o.classList.add("active"),s(i,o))}),t.addEventListener("click",o),l.querySelectorAll(":scope > li").forEach(e=>e.style.display="inline-flex"),t.style.display="none"}),document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelectorAll(".my-tabs");e.forEach(e=>{let t=e.querySelectorAll(".my-tabs__tab-btn"),l=e.querySelectorAll(".my-tabs__tab-panel");t.forEach(n=>{n.addEventListener("click",()=>{let a=n.dataset.tab;t.forEach(e=>e.classList.remove("active")),l.forEach(e=>e.classList.remove("active")),n.classList.add("active");let s=e.querySelector(`.my-tabs__tab-panel[data-tab-id="${a}"]`);s&&s.classList.add("active")})})})}),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".my-dropdown");e.forEach(t=>{let l=t.querySelector("span"),n=t.querySelector(".submenu"),a=t.querySelector('input[type="hidden"]');if(n&&(n.style.display="none"),l.addEventListener("click",l=>{l.stopPropagation();let a=n&&"block"===n.style.display;e.forEach(e=>{let t=e.querySelector(".submenu");t&&(t.style.display="none"),e.classList.remove("open")}),!a&&n&&(n.style.display="block",t.classList.add("open"))}),n){let s=n.querySelectorAll(".submenu__item");s.forEach(e=>{e.addEventListener("click",s=>{if(s.stopPropagation(),t.classList.contains("no-active"))return;let o=e.textContent.trim(),r=e.dataset.value||o;a&&(a.value=r,a.dispatchEvent(new Event("change"))),l&&(l.textContent=o),n.style.display="none",t.classList.remove("open"),console.log(`Выбран вариант: ${o}${a?`, value: ${a.value}`:""}`)})})}}),document.addEventListener("click",t=>{e.forEach(e=>{if(!e.contains(t.target)){let l=e.querySelector(".submenu");l&&(l.style.display="none"),e.classList.remove("open")}})})}),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll("[data-modal-open]");e.forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();let l=e.getAttribute("data-modal-open");l.startsWith("#")&&(l=l.slice(1));let n=document.querySelector(`[data-modal-id="${l}"]`);document.body.style.overflow="hidden",n.style.display="flex",n.setAttribute("opened",""),n.addEventListener("click",function(e){e.target===this&&(this.style.display="none",n.removeAttribute("opened"),document.body.style.overflow="")});let a=n.querySelectorAll(".close-modal-button");a.forEach(e=>{e.addEventListener("click",function(){n.style.display="none",n.removeAttribute("opened"),document.body.style.overflow=""})})})})}),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll('input[type="tel"]');e.forEach(e=>{e.addEventListener("input",t=>{let l=t.target.value,n=function e(t){let l=t.replace(/\D/g,""),n="+7 (";l.startsWith("8")&&(t="7"+l.slice(1));let a=l.replace(/^8/,"7").slice(0,11);return a.length>1&&(n="+7 ("),a.length>=2&&(n+=a.slice(1,4)),a.length>=5&&(n+=") "+a.slice(4,7)),a.length>=8&&(n+=" "+a.slice(7,9)),a.length>=10&&(n+=" "+a.slice(9,11)),n}(l);e.value=n}),e.addEventListener("focus",()=>{""===e.value.trim()&&(e.value="+7 (")}),e.addEventListener("blur",()=>{let t=e.value.replace(/\D/g,"");t.length<11&&(e.value="")}),e.addEventListener("keypress",e=>{/\d/.test(e.key)||e.preventDefault()})})}),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll("input");e.forEach(e=>{function t(){""!==e.value.trim()?e.style.borderColor="rgba(0, 0, 0, 0.1)":e.style.borderColor=""}t(),e.addEventListener("input",t),e.addEventListener("blur",t)})}),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll("form");e.forEach(e=>{let t=e.querySelectorAll("input, textarea, select");t.forEach(e=>{e.addEventListener("invalid",()=>{e.classList.add("no-valid")}),e.addEventListener("input",()=>{e.checkValidity()&&e.classList.remove("no-valid")})}),e.addEventListener("submit",t=>{let l=e.querySelectorAll(":invalid");l.forEach(e=>e.classList.add("no-valid"))})})}),Fancybox.bind("[data-fancybox]",{Carousel:{Thumbs:!1,Toolbar:{display:{left:["counter"],middle:[],right:["close"]}}}});